<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gangsters: Real City</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://api-maps.yandex.ru/2.1/?apikey=bc55ea96-e76d-4ce6-b7f7-e76f06bc1f78&lang=ru_RU" type="text/javascript"></script>
</head>
<body class="gangster-atmosphere">
    <div id="game-container">
        <!-- Загрузочный экран -->
        <div id="loading-screen" class="screen active">
            <div class="loading-content">
                <h1>Gangsters: Real City</h1>
                <div class="loading-spinner"></div>
                <p>Загрузка карты города...</p>
                <button class="menu-btn" onclick="skipLoading()" style="margin-top: 20px;">Пропустить загрузку</button>
            </div>
        </div>

        <!-- Главное меню -->
        <div id="main-menu" class="screen art-deco-border">
            <!-- Art Deco corner decorations -->
            <div class="art-deco-corner" style="position: absolute; top: 20px; left: 20px; width: 60px; height: 60px; border-left: 3px solid var(--warm-gold); border-top: 3px solid var(--warm-gold);"></div>
            <div class="art-deco-corner" style="position: absolute; top: 20px; right: 20px; width: 60px; height: 60px; border-right: 3px solid var(--brick-red); border-top: 3px solid var(--brick-red);"></div>
            <div class="art-deco-corner" style="position: absolute; bottom: 20px; left: 20px; width: 60px; height: 60px; border-left: 3px solid var(--steel-blue); border-bottom: 3px solid var(--steel-blue);"></div>
            <div class="art-deco-corner" style="position: absolute; bottom: 20px; right: 20px; width: 60px; height: 60px; border-right: 3px solid var(--warm-gold); border-bottom: 3px solid var(--warm-gold);"></div>
            
            <div class="menu-content">
                <h1>Gangsters</h1>
                <div class="subtitle">Real City</div>
                <div class="player-info art-deco-corner">
                    <div class="player-avatar">G</div>
                    <div class="player-stats">
                        <span class="player-name">Игрок</span>
                        <span class="player-money">$0</span>
                        <span class="player-level">Уровень 1</span>
                    </div>
                </div>
                <div class="menu-buttons">
                    <button class="menu-btn art-deco-corner" onclick="startGame()">Начать игру</button>
                    <button class="menu-btn art-deco-corner" onclick="showClanMenu()">Кланы</button>
                    <button class="menu-btn art-deco-corner" onclick="showInventory()">Инвентарь</button>
                    <button class="menu-btn art-deco-corner" onclick="showAchievements()">Достижения</button>
                    <button class="menu-btn art-deco-corner" onclick="showSettings()">Настройки</button>
                </div>
            </div>
        </div>

        <!-- Игровой экран -->
        <div id="game-screen" class="screen">
            <div id="map-container">
                <div id="map"></div>
            </div>
            
            <!-- Игровой HUD -->
            <div id="game-hud">
                <div class="hud-top">
                    <div class="player-info-hud">
                        <span class="player-name">Игрок</span>
                        <span class="player-money">$0</span>
                        <span class="player-level">Уровень 1</span>
                    </div>
                    <div class="income-info">
                        <span class="income-per-hour">$0/час</span>
                        <span class="owned-venues">Заведений: 0</span>
                        <span class="total-venues">Всего: 0</span>
                    </div>
                    <div class="clan-info">
                        <span class="clan-name">Без клана</span>
                        <span class="clan-members">0/20</span>
                    </div>
                </div>
                
                <div class="hud-bottom">
                    <button class="hud-btn" onclick="showPlayerMenu()">Меню</button>
                    <button class="hud-btn" onclick="showClanMenu()">Клан</button>
                    <button class="hud-btn" onclick="showInventory()">Инвентарь</button>
                    <button class="hud-btn" onclick="game.map.centerOnPlayer()">Мое место</button>
                    <button class="hud-btn" onclick="game.map.updatePlayerLocation()">Обновить</button>
                    <button class="hud-btn" onclick="game.map.refreshVenues()">Заведения</button>
                    <button class="hud-btn" onclick="game.map.zoomToMax()">Приблизить</button>
                    <button class="hud-btn" onclick="game.map.closeAllBalloons()">Закрыть балуны</button>
                </div>
            </div>

            <!-- Панель информации о заведении -->
            <div id="venue-panel" class="panel hidden">
                <div class="panel-header">
                    <h3 id="venue-name">Название заведения</h3>
                    <button class="close-btn" onclick="closeVenuePanel()">×</button>
                </div>
                <div class="panel-content">
                    <div class="venue-info">
                        <p><strong>Категория:</strong> <span id="venue-type">-</span></p>
                        <p><strong>Адрес:</strong> <span id="venue-address">-</span></p>
                        <p><strong>Владелец:</strong> <span id="venue-owner">Свободно</span></p>
                        <p><strong>Доход:</strong> <span id="venue-income">$0/час</span></p>
                        <p><strong>Статус:</strong> <span id="venue-status">Закрыто</span></p>
                    </div>
                    <div class="venue-actions">
                        <button id="capture-btn" class="action-btn" onclick="attemptCapture()">Захватить</button>
                        <button id="duel-btn" class="action-btn hidden" onclick="startDuel()">Дуэль</button>
                    </div>
                </div>
            </div>

            <!-- Панель дуэли -->
            <div id="duel-panel" class="panel hidden">
                <div class="panel-header">
                    <h3>Дуэль за заведение</h3>
                    <button class="close-btn" onclick="closeDuelPanel()">×</button>
                </div>
                <div class="panel-content">
                    <div class="duel-players">
                        <div class="duel-player">
                            <h4>Вы</h4>
                            <div class="player-cards" id="player-cards"></div>
                        </div>
                        <div class="duel-player">
                            <h4>Противник</h4>
                            <div class="player-cards" id="enemy-cards"></div>
                        </div>
                    </div>
                    <div class="duel-actions">
                        <button class="action-btn" onclick="playCard()">Играть карту</button>
                        <button class="action-btn" onclick="endTurn()">Завершить ход</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Меню клана -->
        <div id="clan-menu" class="screen">
            <div class="menu-content">
                <h2>Кланы</h2>
                <div class="clan-info-panel">
                    <h3>Ваш клан</h3>
                    <div id="current-clan">
                        <p>Вы не состоите в клане</p>
                        <button class="menu-btn" onclick="createClan()">Создать клан</button>
                    </div>
                </div>
                <div class="clan-list">
                    <h3>Доступные кланы</h3>
                    <div id="clans-list"></div>
                </div>
                <button class="menu-btn" onclick="showMainMenu()">Назад</button>
            </div>
        </div>

        <!-- Инвентарь -->
        <div id="inventory-menu" class="screen">
            <div class="menu-content">
                <h2>Инвентарь</h2>
                <div class="inventory-tabs">
                    <button class="tab-btn active" onclick="showInventoryTab('cards')">Карты</button>
                    <button class="tab-btn" onclick="showInventoryTab('upgrades')">Улучшения</button>
                    <button class="tab-btn" onclick="showInventoryTab('protection')">Защита</button>
                </div>
                <div class="inventory-content">
                    <div id="cards-tab" class="tab-content active">
                        <h3>Карты для дуэлей</h3>
                        <div id="cards-list"></div>
                    </div>
                    <div id="upgrades-tab" class="tab-content">
                        <h3>Улучшения заведений</h3>
                        <div id="upgrades-list"></div>
                    </div>
                    <div id="protection-tab" class="tab-content">
                        <h3>Защита</h3>
                        <div id="protection-list"></div>
                    </div>
                </div>
                <button class="menu-btn" onclick="showMainMenu()">Назад</button>
            </div>
        </div>

        <!-- Достижения -->
        <div id="achievements-menu" class="screen">
            <div class="menu-content">
                <h2>Достижения</h2>
                <div id="achievements-list"></div>
                <button class="menu-btn" onclick="showMainMenu()">Назад</button>
            </div>
        </div>

        <!-- Настройки -->
        <div id="settings-menu" class="screen">
            <div class="menu-content">
                <h2>Настройки</h2>
                <div class="settings-content">
                    <div class="setting-item">
                        <label>Звук:</label>
                        <input type="checkbox" id="sound-toggle" checked>
                    </div>
                    <div class="setting-item">
                        <label>Уведомления:</label>
                        <input type="checkbox" id="notifications-toggle" checked>
                    </div>
                    <div class="setting-item">
                        <label>Автозахват:</label>
                        <input type="checkbox" id="auto-capture-toggle">
                    </div>
                </div>
                <button class="menu-btn" onclick="showMainMenu()">Назад</button>
            </div>
        </div>
    </div>

    <!-- Уведомления -->
    <div id="notifications"></div>

    <script src="data-sync.js"></script>
    <script src="game.js"></script>
    <script src="map.js"></script>
    <script src="player.js"></script>
    <script src="clan.js"></script>
    <script src="economy.js"></script>
    <script src="duel.js"></script>
    <script src="events.js"></script>
    <script src="ui.js"></script>
</body>
</html>
